From 74db29beb5cd9bb62fb0f18d00bf7c9d4696c13d Mon Sep 17 00:00:00 2001
From: Pontus Fuchs <pontus.fuchs@gmail.com>
Date: Tue, 23 Oct 2012 19:56:04 +0200
Subject: [PATCH 80/82] Use URB_ZERO_PACKET on TX URBs

Solves the problem of stuck TX frames.
---
 ar5523.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/net/wireless/ath/ar5523/ar5523.c
+++ b/drivers/net/wireless/ath/ar5523/ar5523.c
@@ -853,6 +853,7 @@ static void ar5523_tx_work_locked(struct
 
 		desc->txqid = cpu_to_be32(txqid);
 
+		urb->transfer_flags = URB_ZERO_PACKET;
 		usb_fill_bulk_urb(urb, ar->dev, ar5523_data_tx_pipe(ar->dev),
 				  skb->data, skb->len, ar5523_data_tx_cb, skb);
 
